{% extends 'base.html' %}
{% block content %}
{% load static %}


      <main>
         <!-- section-->
         <div class="mt-4">
            <div class="container">
               <!-- row -->
               <div class="row">
                  <!-- col -->
                  <div class="col-12">
                     <!-- breadcrumb -->
<!--                     <nav aria-label="breadcrumb">-->
<!--                        <ol class="breadcrumb mb-0">-->
<!--                           <li class="breadcrumb-item"><a href="#!">Home</a></li>-->
<!--                           <li class="breadcrumb-item"><a href="#!">Shop</a></li>-->
<!--                           <li class="breadcrumb-item active" aria-current="page">My Wishlist</li>-->
<!--                        </ol>-->
<!--                     </nav>-->
                  </div>
               </div>
            </div>
         </div>
         <!-- section -->
<!-- Include Bootstrap CSS and JS -->
<!--<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">-->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Messages -->
{% if messages %}
    <div id="message-container">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    </div>
{% endif %}

<!-- JavaScript to handle pop-up -->
<script>
    $(document).ready(function(){
        $('#message-container .alert').each(function(){
            // Show the alert with fade effect
            $(this).fadeIn();

            // Automatically close the alert after 5 seconds
            $(this).delay(5000).fadeOut();
        });
    });
</script>


         <section class="mt-8 mb-14">
            <div class="container">
               {% if cart_data %}
               <!-- row -->
               <div class="row">
                  <div class="col-lg-12">
<!--                     <div class="mb-8">-->
<!--                        &lt;!&ndash; heading &ndash;&gt;-->
<!--                        <h1 class="mb-1">My Wishlist</h1>-->
<!--                        <p>There are 5 products in this wishlist.</p>-->
<!--                     </div>-->
                     <div>
                        <!-- table -->
                        <div class="table-responsive">
                           <table class="table text-nowrap table-with-checkbox">
                              <thead class="table-light">
                                 <tr>
                                    <th>
                                       <!-- form check -->
                                       <div class="form-check">
                                          <!-- input -->
                                          <input class="form-check-input" type="checkbox" value="" id="checkAll" />
                                          <!-- label -->
                                          <label class="form-check-label" for="checkAll"></label>
                                       </div>
                                    </th>
                                    <th></th>
                                    <th>Product</th>
                                    <th>Price</th>
                                    <th>Actions</th>
                                    <th>Total</th>
                                    <th>Remove</th>
                                 </tr>
                              </thead>
                              <tbody>


                              {% for cart_item in cart_data %}
                                 <tr>
                                    <td class="align-middle">
                                       <!-- form check -->
                                       <div class="form-check">
                                          <!-- input -->
                                          <input class="form-check-input" type="checkbox" value="" id="chechboxTwo" />
                                          <!-- label -->
                                          <label class="form-check-label" for="chechboxTwo"></label>
                                       </div>
                                    </td>
                                    <td class="align-middle">
                                       <a href="#"><img src="{{cart_item.product.image.url}}" class="icon-shape icon-xxl" alt="" /></a>
                                    </td>


                                    <td class="align-middle">
                                       <div>
                                          <h5 class="fs-6 mb-0"><a href="#" class="text-inherit">{{cart_item.product.product_name}}</a></h5>
                                          <small>{{cart_item.quantity.weight_litter}}{{cart_item.quantity.denominations}}</small>
                                       </div>
                                    </td>
                                    <td class="align-middle">${{cart_item.quantity.price}}</td>
<!--                                    <td class="align-middle">${{cart_item.quantity.price}}</td>-->
                                    <td class="align-middle">
                                       <a href="{% url 'substrate_cart' product_id=cart_item.product.id quantity_id=cart_item.quantity.id %}"><i class="bi bi-dash-circle"></i></a>
<!--                                    <i class="bi bi-circle"></i>-->
                                        {{cart_item.selected_no}}
                                       <a href="{% url 'add_cart' product_id=cart_item.product.id quantity_id=cart_item.quantity.id %}"><i class="bi bi-plus-circle"></i></a>

                                    </td>
<!--                                    <td class="align-middle"><span class="badge bg-success">In Stock</span></td>-->
<!--                                    <td class="align-middle">-->
<!--                                       <div class="btn btn-primary btn-sm">Add to Cart</div>-->
<!--                                    </td>-->
                                    <td class="align-middle">${{cart_item.total}}</td>
                                    <td class="align-middle">
                                       <a href="{% url 'remove_from_cart' product_id=cart_item.product.id  quantity_id=cart_item.quantity.id %}" class="text-muted" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete">
                                          <i class="bi bi-trash"></i>
                                       </a>
                                    </td>
                                 </tr>



                              {% endfor %}




<!--                                 <tr>-->
<!--                                    <td class="align-middle">-->
<!--                                       &lt;!&ndash; form check &ndash;&gt;-->
<!--                                       <div class="form-check">-->
<!--                                          &lt;!&ndash; input &ndash;&gt;-->
<!--                                          <input class="form-check-input" type="checkbox" value="" id="chechboxThree" />-->
<!--                                          &lt;!&ndash; label &ndash;&gt;-->
<!--                                          <label class="form-check-label" for="chechboxThree"></label>-->
<!--                                       </div>-->
<!--                                    </td>-->
<!--                                    <td class="align-middle">-->
<!--                                       <a href="#"><img src="../assets/images/products/product-img-17.jpg" class="icon-shape icon-xxl" alt="" /></a>-->
<!--                                    </td>-->
<!--                                    <td class="align-middle">-->
<!--                                       <div>-->
<!--                                          <h5 class="fs-6 mb-0"><a href="#" class="text-inherit">Fresh Kiwi</a></h5>-->
<!--                                          <small>4 no</small>-->
<!--                                       </div>-->
<!--                                    </td>-->
<!--                                    <td class="align-middle">$20.97</td>-->
<!--                                    <td class="align-middle"><span class="badge bg-danger">Out of Stock</span></td>-->
<!--                                    <td class="align-middle">-->
<!--                                       <div class="btn btn-dark btn-sm">Contact us</div>-->
<!--                                    </td>-->
<!--                                    <td class="align-middle">-->
<!--                                       <a href="#" class="text-muted" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete">-->
<!--                                          <i class="feather-icon icon-trash-2"></i>-->
<!--                                       </a>-->
<!--                                    </td>-->
<!--                                 </tr>-->


                              </tbody>
                           </table>
                           <div class="d-flex justify-content-between mt-4">
                    <a href="#!" class="btn btn-primary">Back to Shopping</a>
                    <a href="{% url 'select_address' %}" class="btn btn-dark">Continue</a>
                </div>
                        </div>
                     </div>
                  </div>
               </div>

                {% else %}

<div style="margin-left:300px;">
   <img src="{% static 'assets/images/empty cart.png' %}" alt="Empty Cart"><br>
   <a href="{% url 'index' %}" type="button" class="btn btn-success" style="margin-top:-200px;margin-left:170px;">Continue Shopping</a>
</div>


{% endif %}
            </div>
         </section>

      </main>



{% endblock %}
